# This file will be configured to contain variables for CPack. These variables
# should be set in the CMake list file of the project before CPack module is
# included. The list of available CPACK_xxx variables and their associated
# documentation may be obtained using
#  cpack --help-variable-list
#
# Some variables are common to all generators (e.g. CPACK_PACKAGE_NAME)
# and some are specific to a generator
# (e.g. CPACK_NSIS_EXTRA_INSTALL_COMMANDS). The generator specific variables
# usually begin with CPACK_<GENNAME>_xxxx.

@_CPACK_OTHER_VARIABLES_@

if(NOT CPACK_PROPERTIES_FILE)
  set(CPACK_PROPERTIES_FILE "@CMAKE_BINARY_DIR@/CPackProperties.cmake")
endif()

if(EXISTS ${CPACK_PROPERTIES_FILE})
  include(${CPACK_PROPERTIES_FILE})
endif()

# wrapper for main
if (UNIX)
  set(__full_datadir__  "@CPACK_PACKAGING_INSTALL_PREFIX@/@CMAKE_INSTALL_DATADIR@")
  set(__exe__           "@CPACK_PACKAGING_INSTALL_PREFIX@/@CMAKE_INSTALL_BINDIR@/@ODOX@")
  set(__mode__          "package-install")
  configure_file(
    @PROJECT_SOURCE_DIR@/packaging/unix/@ODOX_WRAPPER@.in
    @PROJECT_BINARY_DIR@/packaging/unix/@ODOX_WRAPPER@
    @ONLY
  )
elseif(WIN32 OR MINGW)
  file(TO_NATIVE_PATH "@CPACK_NSIS_INSTALL_ROOT@/@CPACK_PACKAGE_INSTALL_DIRECTORY@/@CMAKE_INSTALL_DATADIR@"  __full_datadir__)
  file(TO_NATIVE_PATH "@CPACK_NSIS_INSTALL_ROOT@/@CPACK_PACKAGE_INSTALL_DIRECTORY@/@CMAKE_INSTALL_BINDIR@/@ODOX@" __exe__)
  set(__mode__        "package-install")
  # CPACK_PACKAGE_INSTALL_DIRECTORY is in cmake file system format
  # ... but it seems that NSIS generator needs it in native one ...
  file(TO_NATIVE_PATH "@CPACK_PACKAGE_INSTALL_DIRECTORY@"  CPACK_PACKAGE_INSTALL_DIRECTORY)
  configure_file(
    @PROJECT_SOURCE_DIR@/packaging/windows/@ODOX_WRAPPER@.in
    @PROJECT_BINARY_DIR@/packaging/windows/@ODOX_WRAPPER@
    @ONLY
  )
endif()
